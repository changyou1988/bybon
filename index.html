<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> æ•…éšœæ’æŸ¥ç³»ç»Ÿ </title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .container {
            background-color: #1e1e1e;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            width: 400px; /* å¢åŠ å®¹å™¨å®½åº¦ */
            text-align: center;
        }

        h1 {
            color: #00bfff;
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            text-align: left;
        }

        input[type="password"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border: none;
            border-radius: 5px;
            background-color: #2b2b2b;
            color: #e0e0e0;
        }

        select {
            width: 100%; /* è®¾ç½®ä¸‹æ‹‰èœå•å®½åº¦ä¸º100% */
            padding: 10px;
            margin-bottom: 20px;
            border: none;
            border-radius: 5px;
            background-color: #2b2b2b;
            color: #e0e0e0;
            font-size: 16px; /* å¢åŠ å­—ä½“å¤§å° */
        }

        button {
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            background-color: #00bfff;
            color: #121212;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 16px; /* å¢åŠ æŒ‰é’®å­—ä½“å¤§å° */
        }

        button:hover {
            background-color: #009acd;
        }

        #menu {
            display: none;
            margin-top: 20px;
        }

        #menu button {
            margin-top: 10px;
        }

        /* æ·»åŠ æ–°æ ·å¼ï¼Œè®¾ç½®æŒ‰é’®ä¹‹é—´çš„é—´éš™å’Œé¢œè‰²åŒºåˆ† */
        #steps button {
            margin-top: 10px;
        }

        #steps button:nth-child(1) {
            background-color: #00bfff;
        }

        #steps button:nth-child(1):hover {
            background-color: #009acd;
        }

        #steps button:nth-child(2) {
            background-color: #ff6347; /* ä½¿ç”¨ä¸åŒçš„é¢œè‰²ï¼Œè¿™é‡Œé€‰æ‹©äº†ç•ªèŒ„çº¢ */
        }

        #steps button:nth-child(2):hover {
            background-color: #e5543c;
        }
    </style>

    <!-- å¼•å…¥ axios åº“ -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- å¼•å…¥ SweetAlert2 åº“ -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.7.32/dist/sweetalert2.all.min.js"></script>
</head>
<body>
    <!-- ç™»å½•è¡¨å• -->
    <div id="loginForm" class="container">
        <h1>æ•…éšœæ’æŸ¥ç³»ç»Ÿ</h1>
        <label for="password">å¯†ç :</label>
        <input type="password" id="password">
        <button onclick="login()">ç™»å½•</button>
    </div>
    <!-- æ•…éšœæ’æŸ¥ç³»ç»Ÿå†…å®¹ï¼Œåˆå§‹éšè— -->
    <div id="troubleshootingSystem" class="container" style="display: none;">
        <h1>æ•…éšœæ’æŸ¥ç³»ç»Ÿ</h1>
        <p>è¯·é€‰æ‹©æ‚¨é‡åˆ°çš„é—®é¢˜ç±»å‹ï¼š</p>
        <select id="problemType">
            <option value="powerOn">ä¸å¼€æœºé—®é¢˜</option>
            <option value="shortBattery">å¾…æœºæ—¶é—´çŸ­</option>
            <option value="poorSignal">ä¿¡å·å·®</option>
            <option value="stillProblem">ç»´ä¿®åä»æ—§æœ‰é—®é¢˜</option>
            <option value="shuaihuai">å±å¹•ç ´è£‚</option>
            <option value="kadun">æ‰‹æœºå¡é¡¿</option> 
            <option value="tingtong">å¬ç­’å£°éŸ³å°</option>
            <option value="blindModeExit">ç›²äººæ¨¡å¼é€€å‡ºé—®é¢˜</option>
        </select>
        <button onclick="startTroubleshooting()">å¼€å§‹æ’æŸ¥</button>
        <div id="steps" style="display: none;">
            <p id="stepText"></p>
            <button onclick="nextStep()">ä¸‹ä¸€æ­¥</button>
            <button onclick="restartTroubleshooting()">é‡æ–°é€‰æ‹©é—®é¢˜</button>
        </div>
        <div id="menu">
            <button onclick="goBackToInitialPage()">è¿”å›ä¸»èœå•</button>
            <button onclick="logout()">é€€å‡ºç™»å½•</button>
        </div>
    </div>

    <!-- ç›²äººæ¨¡å¼é€€å‡ºå¼•å¯¼ï¼Œåˆå§‹éšè— -->
    <div id="blindModeExitGuide" style="display: none;">
        <!-- å¤åˆ¶ç›²äººæ¨¡å¼é€€å‡ºæ–¹æ³•.html çš„å†…å®¹ -->
        <div id="step1" class="step" style="display: none;">
            <div class="step-content">
                <div class="emoji">ğŸ‘†</div>
                <h2>å°è¯•é€šè¿‡ä¾§è¾¹æŒ‰é”®é€€å‡ºç›²äººæ¨¡å¼</h2>
                <div class="progress-bar">
                    <div class="progress" style="width: 25%"></div>
                </div>
                <button onclick="showConfirm(1)">æˆ‘å·²è¿ç»­ç‚¹å‡»ä¾§è¾¹æŒ‰é”®3æ¬¡</button>
            </div>
        </div>

        <div id="step2" class="step" style="display: none;">
            <div class="step-content">
                <div class="emoji">ğŸ“±</div>
                <h2>æ£€æŸ¥å±å¹•äº®å±çŠ¶æ€åŠå“åº”</h2>
                <div class="progress-bar">
                    <div class="progress" style="width: 50%"></div>
                </div>
                <button onclick="checkScreenLit()">æˆ‘å·²ç‚¹å‡»å¼€æœºé”®</button>
            </div>
        </div>

        <div id="step3" class="step" style="display: none;">
            <div class="step-content">
                <div class="emoji">ğŸ‘‚</div>
                <h2>å¦‚æœå±å¹•ä¸äº®è¯·æ‰§è¡Œ</h2>
                <div class="progress-bar">
                    <div class="progress" style="width: 75%"></div>
                </div>
                <div id="promptCheck">
                    <p class="warning">è¯·æŒç»­ç‚¹å‡»å¼€æœºé”®ç›´åˆ°å¬åˆ°æç¤ºéŸ³ï¼ˆå¦‚æŠ¥æ—¶æˆ–é€šçŸ¥å†…å®¹ï¼‰</p>
                    <button onclick="checkPromptSound()">æˆ‘å¬åˆ°æç¤ºéŸ³äº†</button>
                </div>
                <div id="unlockGuide" style="display:none;">
                    <p>è¯·ç”¨ä¸‰æŒ‡è¿ç»­æ•²å‡»å±å¹•ç›´è‡³å±å¹•äº®èµ·</p>
                    <button onclick="activateScreen()">å±å¹•å·²äº®èµ·</button>
                </div>
            </div>
        </div>

        <div id="step4" class="step" style="display: none;">
            <div class="step-content">
                <div class="emoji">ğŸ“</div>
                <h2>å¯»æ±‚æŠ€æœ¯æ”¯æŒ</h2>
                <div class="progress-bar">
                    <div class="progress" style="width: 100%"></div>
                </div>
                <p>å»ºè®®è”ç³»æŠ€æœ¯æ”¯æŒæˆ–ä¸“ä¸šäººå‘˜è·å–å¸®åŠ©ï¼Œè”ç³»æ–¹å¼ï¼š[å…·ä½“è”ç³»æ–¹å¼]</p>
                <button onclick="askRetry()">æ˜¯å¦éœ€è¦å†æ¬¡å°è¯•ä¸Šè¿°æ­¥éª¤ï¼Ÿ</button>
            </div>
        </div>

        <div id="resetDiv" style="display: none;">
            <button onclick="resetProcess()">é‡æ–°å¼€å§‹</button>
        </div>
    </div>

    <script>
        // ç¡¬ç¼–ç çš„å¯†ç ï¼Œåªèƒ½åœ¨æºä»£ç é‡Œä¿®æ”¹
        const HARDCODED_PASSWORD = '8888';

        // é¡µé¢åŠ è½½æ—¶æ¸…ç†å†å²è®°å½•
        window.onload = function() {
            localStorage.clear();
            sessionStorage.clear();
            document.getElementById('password').value = '';
        };

        // ç™»å½•å‡½æ•°
        function login() {
            const password = document.getElementById('password').value;
            // æ¸…ç©ºå¯†ç è¾“å…¥æ¡†ï¼Œé¿å…æ—§å¯†ç æ®‹ç•™
            document.getElementById('password').value = ''; 

            if (password === HARDCODED_PASSWORD) {
                document.getElementById('loginForm').style.display = 'none';
                document.getElementById('troubleshootingSystem').style.display = 'block';
            } else {
                alert('å¯†ç é”™è¯¯ï¼Œè¯·é‡è¯•ã€‚');
            }
        }

        // é€€å‡ºç™»å½•å‡½æ•°
        function logout() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('troubleshootingSystem').style.display = 'none';
            document.getElementById('steps').style.display = 'none';
            document.getElementById('menu').style.display = 'none';
            document.getElementById('blindModeExitGuide').style.display = 'none';
            document.getElementById('password').value = ''; // æ¸…ç©ºå¯†ç è¾“å…¥æ¡†
        }

        // åˆå§‹æ­¥éª¤æ•°ç»„
        let currentStep = 0;
        let problemSteps = [];

        function startTroubleshooting() {
            const problemType = document.getElementById('problemType').value;
            document.getElementById('steps').style.display = 'none';
            document.getElementById('blindModeExitGuide').style.display = 'none';

            switch (problemType) {
                case 'powerOn':
                case 'shortBattery':
                case 'poorSignal':
                case 'stillProblem':
                case 'shuaihuai':
                    problemSteps = getStepsForProblem(problemType);
                    currentStep = 0;
                    showStep();
                    document.getElementById('steps').style.display = 'block';
                    document.getElementById('troubleshootingSystem').querySelector('#menu').style.display = 'block';
                    break;
                case 'blindModeExit':
                    document.getElementById('troubleshootingSystem').style.display = 'none';
                    document.getElementById('blindModeExitGuide').style.display = 'block';
                    currentStepBlindMode = 1; // ç¡®ä¿æ¯æ¬¡è¿›å…¥éƒ½ä»ç¬¬ä¸€æ­¥å¼€å§‹
                    showStepBlindMode();
                    break;
            }
        }

        function getStepsForProblem(problemType) {
            const STEPS = {
                powerOn: [
                    'ç¡®è®¤æ‰‹æœºç”µæ± æ˜¯å¦æœ‰ç”µï¼Œå»ºè®®æ‚¨å°è¯•å……ç”µä¸€æ®µæ—¶é—´åå†å°è¯•å¼€æœºã€‚',
                    'è¯·æŒ‰ç…§æ‚¨æ‰‹æœºæœºå‹æ­£ç¡®çš„å¼ºåˆ¶é‡å¯æ­¥éª¤æ“ä½œï¼ˆä¸åŒå“ç‰Œå’Œå‹å·çš„æ‰‹æœºå¯èƒ½æœ‰æ‰€ä¸åŒï¼‰ã€‚',
                    'è¯·ç¡®ä¿ä½¿ç”¨çš„å……ç”µè®¾å¤‡æ˜¯åŸè£…æˆ–è®¤è¯çš„ï¼Œå¹¶ä¸”å·¥ä½œæ­£å¸¸ã€‚',
                    'å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œå¯èƒ½æ˜¯ç³»ç»Ÿé—®é¢˜ï¼Œå»ºè®®æ‚¨å°è¯•è¿›å…¥æ¢å¤æ¨¡å¼è¿›è¡Œç³»ç»Ÿä¿®å¤æˆ–æ¢å¤å‡ºå‚è®¾ç½®ï¼ˆæ³¨æ„æé†’å¤‡ä»½æ•°æ®ï¼‰ã€‚'
                ],
                shortBattery: [
                    'è¯·é—®æ‚¨æ˜¯å¦ç»å¸¸ä½¿ç”¨å¤§é‡åº”ç”¨ï¼Œå°¤å…¶æ˜¯é‚£äº›åœ¨åå°æŒç»­è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Ÿ',
                    'è¯·é€šè¿‡æ‰‹æœºå†…ç½®çš„ç”µæ± å¥åº·åŠŸèƒ½æŸ¥çœ‹ç”µæ± çŠ¶æ€ï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦æ›´æ¢ç”µæ± ã€‚',
                    'æœ‰æ—¶å¾…æœºæ—¶é—´çŸ­å¯èƒ½æ˜¯ç”±äºè½¯ä»¶é—®é¢˜å¼•èµ·çš„ï¼Œç¡®ä¿ç³»ç»Ÿå’Œåº”ç”¨ç¨‹åºéƒ½æ˜¯æœ€æ–°ç‰ˆæœ¬ã€‚',
                    'å»ºè®®æ‚¨å¼€å¯çœç”µæ¨¡å¼æˆ–è€…è°ƒæ•´å±å¹•äº®åº¦ã€è‡ªåŠ¨é”å±æ—¶é—´ç­‰è®¾ç½®æ¥å»¶é•¿ç”µæ± å¯¿å‘½ã€‚'
                ],
                poorSignal: [
                    'è¯·é—®æ‚¨æ‰€åœ¨çš„ä½ç½®æ˜¯å¦æœ‰ä¿¡å·è¦†ç›–çš„é—®é¢˜ï¼Œæ¯”å¦‚åœ°ä¸‹å®¤ã€åè¿œå±±åŒºç­‰ï¼Ÿ',
                    'å»ºè®®æ‚¨å¼€å¯å¹¶å…³é—­é£è¡Œæ¨¡å¼ä»¥é‡æ–°æœç´¢ç½‘ç»œä¿¡å·ã€‚',
                    'è¯·æ£€æŸ¥SIMå¡æ˜¯å¦å®‰è£…æ­£ç¡®ï¼Œå¿…è¦æ—¶å¯å°è¯•é‡æ–°æ’æ‹”æˆ–æ›´æ¢SIMå¡ã€‚',
                    'è‹¥ä¸Šè¿°æ–¹æ³•å‡æ— æ•ˆï¼Œå¯èƒ½å­˜åœ¨ç¡¬ä»¶é—®é¢˜ï¼Œå¦‚å¤©çº¿æŸåç­‰ï¼Œéœ€è¿›ä¸€æ­¥ä¸“ä¸šæ£€æµ‹ã€‚'
                ],
                stillProblem: [
                    'è¯·è¯¦ç»†æè¿°ä¹‹å‰ç»´ä¿®çš„å…·ä½“å†…å®¹ï¼ŒåŒ…æ‹¬æ›´æ¢äº†å“ªäº›éƒ¨ä»¶ä»¥åŠè¿›è¡Œäº†ä½•ç§ä¿®ç†ã€‚',
                    'è¯·æ ¹æ®æ‚¨çš„æè¿°é‡ç°é—®é¢˜ï¼Œç¡®è®¤å…·ä½“çš„è¡¨ç°å½¢å¼ã€‚',
                    'å¦‚æœå®¢æœæ— æ³•è§£å†³ï¼Œæˆ‘ä»¬ä¼šåŠæ—¶å°†ä¿¡æ¯åé¦ˆç»™æŠ€æœ¯æ”¯æŒå›¢é˜Ÿåšæ·±å…¥åˆ†æã€‚'
                ],
                shuaihuai: [
                    'æ£€æŸ¥æ‰‹æœºæ˜¯å¦æœ‰æ˜æ˜¾çš„ç‰©ç†æŸä¼¤ï¼Œä¾‹å¦‚è£‚çº¹æˆ–å‡¹é™·ã€‚',
                    'å°è¯•é‡å¯æ‰‹æœºï¼Œæœ‰æ—¶å€™ç®€å•çš„é‡å¯å¯ä»¥è§£å†³é—®é¢˜ã€‚',
                    'å¦‚æœæ‰‹æœºè¿›æ°´æˆ–å—æ½®ï¼Œè¯·ç«‹å³å…³æœºå¹¶å¹²ç‡¥å¤„ç†ï¼Œé¿å…è¿›ä¸€æ­¥æŸå®³ã€‚',
                    'å¦‚æœä»¥ä¸Šæ­¥éª¤éƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œå»ºè®®è”ç³»ä¸“ä¸šçš„ç»´ä¿®æœåŠ¡ã€‚'
                ]
            };
            return STEPS[problemType];
        }

        function showStep() {
            const stepText = document.getElementById('stepText');
            stepText.textContent = `æ­¥éª¤ ${currentStep + 1}: ${problemSteps[currentStep]}`;
        }

        function nextStep() {
            if (currentStep < problemSteps.length - 1) {
                currentStep++;
                showStep();
            } else {
                alert('æ•…éšœæ’æŸ¥å·²å®Œæˆã€‚å¦‚æœé—®é¢˜ä»ç„¶å­˜åœ¨ï¼Œè¯·è”ç³»æˆ‘ä»¬çš„æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚');
                restartTroubleshooting();
            }
        }

        function restartTroubleshooting() {
            currentStep = 0;
            problemSteps = [];
            hideElement('steps');
            hideElement('menu');
        }

        // è¿”å›ç”¨æˆ·ç™»å½•åçš„æœ€åˆç•Œé¢
        function goBackToInitialPage() {
            hideElement('steps');
            hideElement('menu');
        }

        // æ”¯æŒä½¿ç”¨ Enter é”®ç™»å½•
        document.getElementById('password').addEventListener('keydown', function (event) {
            if (event.key === 'Enter') {
                login();
            }
        });

        // ç›²äººæ¨¡å¼é€€å‡ºå¼•å¯¼ç›¸å…³å‡½æ•°
        let currentStepBlindMode = 1;

        async function showConfirm(branch) {
            try {
                const { isConfirmed } = await Swal.fire({
                    title: 'æ˜¯å¦å·²é€€å‡ºç›²äººæ¨¡å¼ï¼Ÿ',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'æ˜¯',
                    cancelButtonText: 'å¦',
                    width: 600, // è°ƒæ•´å¼¹çª—å®½åº¦
                    padding: '3em', // è°ƒæ•´å†…è¾¹è·
                    allowOutsideClick: false // ç¦æ­¢ç‚¹å‡»å¤–éƒ¨å…³é—­å¼¹çª—
                });
                if (isConfirmed) {
                    exitFlow();
                } else {
                    currentStepBlindMode = getNextStep(branch);
                    showStepBlindMode();
                }
            } catch (error) {
                console.error('SweetAlert2 å‡ºç°é”™è¯¯:', error);
                alert('å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚');
            }
        }

        async function checkScreenLit() {
            try {
                const { isConfirmed } = await Swal.fire({
                    title: 'å±å¹•æ˜¯å¦äº®èµ·ï¼Ÿ',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'æ˜¯',
                    cancelButtonText: 'å¦',
                    width: 600,
                    padding: '3em',
                    allowOutsideClick: false
                });
                if (isConfirmed) {
                    await Swal.fire({
                        title: 'è¯·å•æŒ‡æ»‘åŠ¨è¿›å…¥è§£é”é¡µé¢ï¼Œè¾“å…¥å¯†ç æ—¶æ¯ä¸ªæ•°å­—éœ€è¦åŒå‡»',
                        icon: 'info',
                        width: 600,
                        padding: '3em',
                        allowOutsideClick: false
                    });
                    const { isConfirmed: exited } = await Swal.fire({
                        title: 'æ˜¯å¦å·²é€€å‡ºç›²äººæ¨¡å¼ï¼Ÿ',
                        icon: 'question',
                        showCancelButton: true,
                        confirmButtonText: 'æ˜¯',
                        cancelButtonText: 'å¦',
                        width: 600,
                        padding: '3em',
                        allowOutsideClick: false
                    });
                    if (exited) {
                        exitFlow();
                    } else {
                        currentStepBlindMode = 1;
                        showStepBlindMode();
                    }
                } else {
                    currentStepBlindMode = 3;
                    showStepBlindMode();
                }
            } catch (error) {
                console.error('SweetAlert2 å‡ºç°é”™è¯¯:', error);
                alert('å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚');
            }
        }

        function checkPromptSound() {
            hideElement('promptCheck');
            showElement('unlockGuide');
        }

        async function activateScreen() {
            try {
                await Swal.fire({
                    title: 'å±å¹•å·²äº®èµ·ï¼Œè¯·å•æŒ‡æ»‘åŠ¨è¿›å…¥è§£é”é¡µé¢ï¼Œè¾“å…¥å¯†ç æ—¶æ¯ä¸ªæ•°å­—éœ€è¦åŒå‡»',
                    icon: 'info',
                    width: 600,
                    padding: '3em',
                    allowOutsideClick: false
                });
                const { isConfirmed: exited } = await Swal.fire({
                    title: 'æ˜¯å¦å·²é€€å‡ºç›²äººæ¨¡å¼ï¼Ÿ',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'æ˜¯',
                    cancelButtonText: 'å¦',
                    width: 600,
                    padding: '3em',
                    allowOutsideClick: false
                });
                if (exited) {
                    exitFlow();
                } else {
                    currentStepBlindMode = 3;
                    showStepBlindMode();
                    showElement('promptCheck');
                    hideElement('unlockGuide');
                }
            } catch (error) {
                console.error('SweetAlert2 å‡ºç°é”™è¯¯:', error);
                alert('å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚');
            }
        }

        async function askRetry() {
            try {
                const { isConfirmed } = await Swal.fire({
                    title: 'æ˜¯å¦éœ€è¦å†æ¬¡å°è¯•ä¸Šè¿°æ­¥éª¤ï¼Ÿ',
                    icon: 'question',
                    showCancelButton: true,
                    confirmButtonText: 'æ˜¯',
                    cancelButtonText: 'å¦',
                    width: 600,
                    padding: '3em',
                    allowOutsideClick: false
                });
                if (isConfirmed) {
                    currentStepBlindMode = 1;
                    showStepBlindMode();
                } else {
                    exitFlow();
                }
            } catch (error) {
                console.error('SweetAlert2 å‡ºç°é”™è¯¯:', error);
                alert('å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚');
            }
        }

        // åœ¨showStepå‡½æ•°ä¸­æ·»åŠ è¿›åº¦æ¡æ›´æ–°
        function showStepBlindMode(stepNumber) {
            if (!stepNumber) {
                stepNumber = currentStepBlindMode;
            }
            const steps = document.querySelectorAll('#blindModeExitGuide .step');
            hideElements(steps);
            const step = document.getElementById(`step${stepNumber}`);
            showElement(step);

            // æ›´æ–°è¿›åº¦æ¡
            const progress = step.querySelector('.progress');
            progress.style.width = `${stepNumber * 25}%`;
        }

        function exitFlow() {
            try {
                Swal.fire({
                    title: 'æ“ä½œå®Œæˆï¼å¦‚é—®é¢˜ä»æœªè§£å†³ï¼Œè¯·ä¿æŒä¸æŠ€æœ¯æ”¯æŒçš„è”ç³»',
                    icon: 'success',
                    showCancelButton: true,
                    confirmButtonText: 'é‡æ–°å¼€å§‹',
                    cancelButtonText: 'å›åˆ°ä¸»èœå•',
                    width: 600,
                    padding: '3em',
                    allowOutsideClick: false
                }).then((result) => {
                    if (result.isConfirmed) {
                        resetProcess();
                    } else {
                        goBackToTroubleshooting();
                    }
                });
                const steps = document.querySelectorAll('#blindModeExitGuide .step');
                hideElements(steps);
                hideElement('resetDiv');
            } catch (error) {
                console.error('SweetAlert2 å‡ºç°é”™è¯¯:', error);
                alert('å‡ºç°é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•ã€‚');
            }
        }

        function goBackToTroubleshooting() {
            hideElement('blindModeExitGuide');
            showElement('troubleshootingSystem');
        }

        function resetProcess() {
            currentStepBlindMode = 1;
            const steps = document.querySelectorAll('#blindModeExitGuide .step');
            hideElements(steps);
            showElement('step1');
            showElement('promptCheck');
            hideElement('unlockGuide');
            hideElement('resetDiv');
        }

        // è¾…åŠ©å‡½æ•°ï¼šéšè—å…ƒç´ 
        function hideElement(elementIdOrElement) {
            const element = typeof elementIdOrElement === 'string' ? document.getElementById(elementIdOrElement) : elementIdOrElement;
            if (element) {
                element.style.display = 'none';
            }
        }

        // è¾…åŠ©å‡½æ•°ï¼šæ˜¾ç¤ºå…ƒç´ 
        function showElement(elementIdOrElement) {
            const element = typeof elementIdOrElement === 'string' ? document.getElementById(elementIdOrElement) : elementIdOrElement;
            if (element) {
                element.style.display = 'block';
            }
        }

        // è¾…åŠ©å‡½æ•°ï¼šéšè—å¤šä¸ªå…ƒç´ 
        function hideElements(elements) {
            elements.forEach(element => {
                element.style.display = 'none';
            });
        }

        // è¾…åŠ©å‡½æ•°ï¼šè·å–ä¸‹ä¸€æ­¥æ­¥éª¤
        function getNextStep(branch) {
            switch(branch) {
                case 1:
                    return 2;
                case 2:
                    return 3;
                case 3:
                    return 4;
                default:
                    return 1;
            }
        }
    </script>
</body>
<div style="position: fixed; bottom: 10px; right: 10px; color: #e0e0e0;">ä½œè€…ï¼šåº·é¹é£</div>
</html>
